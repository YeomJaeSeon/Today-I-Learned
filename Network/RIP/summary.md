# 라우팅 프로토콜 RIP

## 라우팅 프로토콜 개요
- 라우팅 프로토콜관점의 인터넷: AS(Autonomous System)들의 상호연결
- AS: 인터넷상의 개별적인 라우팅 관리 도메인(ISP: ex)skt,..)
- 인터넷 라우팅: 여러개의 AS로 나누고 AS내부는 각각 독립적인 라우팅 프로토콜 적용

1. Intra-AS 라우팅 프로토콜
- AS 내부 적용가능한 라우팅 프로토콜 (only AS 내)
- RIP, OSPF...

2. Inter-AS 라우팅 프로토콜
- AS 간에 적용가능한 라우팅 프로토콜 (AS 간!)
- BGP

## RIP 특징
- Routing Information Protocol
- 거리벡터 라우팅 알고리즘에 근거한 분산 라우팅
- 모든 링크 비용 '1'!
- 최고 경로 비용을 15로 제한

## RIP 메시지와 전송 절차
- 메시지 포멧: 이웃 라우터와 라우팅 정보 교환을 위한 메시지 포멧은 네트워크 주소, 모든 목적지 라우터까지의 거리.. 등의 거리가 모두 담김
    - 이웃 라우터에게 공유할떄 사용하는 메시지!
- 메시지는 응답메시지/요청메시지로 나눌수있다.
    - 응답메시지: 주기적(30초)으로 이웃 라우터에게 송신(광고 메시지라고 부르는 이유), 시간내에 메시지가 안오면 없는 라우터로 간주하여 경로비용이 무한대로 설정됨.
    - 요청메시지: 어차피 주기적으로 응답 메시지를 받는데 뭐하러 필요? 다른 라우터에게 라우팅 정보(RIP 응답 메시지)를 요청하기 위해 존재함.

## RIP 라우팅 테이블 갱신
- 이웃 라우터로부터 받은 RIP메시지를 통해서 라우팅 테이블을 갱신한다.
    - A - D - B (라우터), D라우터는 A라우터로부터 받은 RIP메시지를 받고, 자신의 라우팅 테이블 정보를 갱신한다.
- 응답 메시지의 각 목적지에 대한 경로거리에 '1'을 더해 새로운 거리 계산(RIP모든 거리 비용 1)

1. 수신된 경로가 기존 라우팅 테이블에 없으면 추가
2. 수신된 경로의 거리가 기존 라우팅테이블의 경로보다 짝으면 수신경로로 갱신(당연)
3. 수신된 경로의 거리가 기존 라우팅테이블의 경로보다 크더라도 다음 라우터가 동일하면 수신 경로로 갱신 -> D - B - Z, D 라우팅테이블으니 Z까지의 거리경로가 5인데, B로부터 받은 RIP 응답메시지에 의하면 Z까지 거리가 16이다. 더 크더라도 이럴경우는 D의 라우팅테임블이 16(무한대, 경로없음)으로 변경되야한다. D도 B를 경유해서 Z까지 가야하는데 없는 경로면 없는 경로인 걸 알아야하기 때문. (D입장에선 원래 B를 경유해서 Z 까지 갈수있는줄알았는데 B로부터 받은 응답메시지는 Z까지 가는 경로가 없어졌따!! 이럴때 필요함.)
4. 1~3이 아니면 무시함.

## RIP 문제점
1. 주기적으로 RIP메시지를 이웃 라우터에 공유하기에 라우팅 트래픽이 너무너무많다.
2. 라우팅 테이블을 짧은 주기로 계속 재계산하고 갱신하는게 성능저하를 일으킨다.
3. 30초마다 한 라우터씩 전달되기에 전파 속도가 느리다.
4. 가장 중요한 문제점은 차등화된 라우팅이 불가능하다. 모든 경로비용이 1이기 때문에 가중치가 없다! 예전에 전화선만 사용할때 거의 링크속도는 비슷하게 안좋아서 RIP써서 괜찮았는데 지금은 너무 다양한 링크속도, 다양한 링크 장치들이 존재하기에 RIP는 잘 사용되지 않는다.