# 리졸버 내부의 작동
![resolver 동작과정.png](images%2Fresolver%20%EB%8F%99%EC%9E%91%EA%B3%BC%EC%A0%95.png)

1. Socket 라이브러리의 리졸버 호출
2. DNS 서버에 문의하기 위한 메시지 생성 (바이너리 데이터)
3. '프로토콜 스택'이라는 녀석에게 메시지를 DNS 서버로 송신할 것을 의뢰
   - 프로토콜 스택: OS 내부에 내장된 네트워크 제어용 소프트웨어
   - 브라우저와 같이 리졸버도 자체적으로 데이터를 네트워크를 통해 송 수신하는 기능이 없다.
4. 프로토콜 스택은 LAN 어뎁터를 통해 DNS 서버로 메시지 전송
5. DNS 서버는 프로토콜 스택에게 응답메시지 반환
6. 프로토콜 스택이 리졸버에게 전달
7. 리졸버는 메모리에 응답받은 IP 저장

-> 컴퓨터 내부는 "다층 구조"로 나뉘어져 있고 각 층은 **서로의 책임에 따라 역할을 분담하고 있다.**

## DNS 서버의 IP
- DNS 서버에 리졸버가 메시지 요청을 의뢰하려면 DNS 서버의 IP를 알아야함.
- DNS 서버의 IP는 설정 항목으로 미리 컴퓨터에 설정되어 있음

![mac에 설정된 DNS서버 IP.png](images%2Fmac%EC%97%90%20%EC%84%A4%EC%A0%95%EB%90%9C%20DNS%EC%84%9C%EB%B2%84%20IP.png)