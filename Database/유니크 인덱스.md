# 유니크 인덱스
- 테이블이나 인덱스에 같은값이 두개 이상 저장될수 없음
- MySQL에선 **인덱스 없이, 유니크한 제약조건 설정할 수가 없어서**, 유니크한 칼럼엔 '유니크 인덱스'가 필요함.
- nullable
  - null값은 특정 값이 아니므로 2개 이상 저장될수있다.
- MyISAM, memory storage engine의 not null + unique 는 primary key와 완전히 동일
- InnoDB storage engine의 not null + unique 는 primary key와 동일하다고 볼수 없다.
  - InnoDB storage engine에서의 primary key는 클러스터링 인덱스닌까.

## 유니크 인덱스 vs 일반적인 셐너더리 인덱스
### 구조
- 인덱스 구조에는 아무런 차이가 없음

### 인덱스 읽기
- 인덱스 특성차이로의 읽기 성능차이는 거의 없다.
- 단순히 읽어야할 레코드 수 차이가 다르닌까, 거기서 시간차이가 날뿐
  - 유니크 인덱스는 레코드 하나, 세컨더리 인덱스는 레코드 하나 이상일수있으므로 디스크 i/o시간차이만 있다. 인덱스 특성차이라 볼 수 없다.

### 인덱스 쓰기
- 유니크 인덱스는 insert, update등의 연산이 있을 때, 중복된 값이 있는지 체크를 해야해서 세컨더리 인덱스보단 느리다.
- 중복된 값을 체크할 떈, 읽기 잠금 쓰기를 할 땐, 쓰기잠금, 데드락 빈번
  - 읽기 잠금: 내가 읽는동안 다른 세션에선 쓰지못함.
  - 쓰기 잠금: 내가 쓰는 동안 다른 세션에선 쓰지 못함
  - 난 데드락 해결하려고 유니크 인덱스를 이용했는데, 유니크 인덱스가 있으면 데드락이 오히려 발생할 위험이 커진다.?

## 주의사항
- 유니크 인덱스에 일반 세컨더리 인덱스만들필요 없음.
- 프라이머리키에 유니크 인덱스 만들 필요없음
- 유니크 인덱스도 인덱스임. 중복인덱스 생성에 주의하자.